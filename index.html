
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nghe vÃ  Viáº¿t ChÃ­nh Táº£</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: 'Nunito', sans-serif;
        -webkit-tap-highlight-color: transparent;
        overscroll-behavior: none;
      }
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-8px); }
        75% { transform: translateX(8px); }
      }
      .animate-shake {
        animation: shake 0.5s;
      }
      .btn-primary { 
        padding: 0.75rem 1.75rem; 
        color: white; 
        font-weight: bold; 
        border-radius: 0.75rem; 
        box-shadow: 0 4px 6px rgba(0,0,0,0.1); 
        transition: all 0.3s ease;
        touch-action: manipulation;
      } 
      .btn-primary:hover { 
        transform: translateY(-2px); 
        box-shadow: 0 6px 12px rgba(0,0,0,0.15); 
      } 
      .btn-primary:disabled { 
        background-color: #bdbdbd !important;
        cursor: not-allowed; 
        transform: none; 
        box-shadow: none; 
      }
    </style>
</head>
<body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

<script type="text/babel">
    const { useState, useEffect, useRef, useCallback } = React;

    const GameState = {
        START: 'start',
        TOPIC_SELECTION: 'topicSelection',
        GAME: 'game',
        CONGRATS: 'congrats',
        REVIEW_ERRORS: 'review',
    };
    
    const allSentences = [
        { en: "In Britain, students have to wear uniforms when they go to school.", vi: "á»ž Anh, há»c sinh pháº£i máº·c Ä‘á»“ng phá»¥c khi Ä‘áº¿n trÆ°á»ng.", emoji: "ðŸ‡¬ðŸ‡§" },
        { en: "The teacher said that we should work harder on our pronunciation.", vi: "GiÃ¡o viÃªn nÃ³i ráº±ng chÃºng ta nÃªn chÄƒm chá»‰ hÆ¡n vá» phÃ¡t Ã¢m.", emoji: "ðŸ—£ï¸" },
        { en: "His mother told him not to leave the door unlocked.", vi: "Máº¹ anh áº¥y dáº·n anh áº¥y khÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ cá»­a má»Ÿ khÃ³a.", emoji: "ðŸšª" },
        { en: "Long time ago Levis made his pants with blue cotton cloth called 'denim'.", vi: "NgÃ y xÆ°a, Levis Ä‘Ã£ lÃ m quáº§n báº±ng váº£i cotton xanh gá»i lÃ  'denim'.", emoji: "ðŸ‘–" },
        { en: "The chair is beside the door.", vi: "CÃ¡i gháº¿ á»Ÿ cáº¡nh cá»­a.", emoji: "ðŸª‘" },
        { en: "I couldn't make coffee for everybody. There weren't enough cups.", vi: "TÃ´i khÃ´ng thá»ƒ pha cÃ  phÃª cho má»i ngÆ°á»i. KhÃ´ng cÃ³ Ä‘á»§ cá»‘c.", emoji: "â˜•" },
        { en: "I'm studying very hard at the moment because I want to pass the exam.", vi: "TÃ´i Ä‘ang há»c ráº¥t chÄƒm chá»‰ vÃ¬ tÃ´i muá»‘n vÆ°á»£t qua ká»³ thi.", emoji: "ðŸ“š" },
        { en: "In order to be highly paid, they work much harder.", vi: "Äá»ƒ Ä‘Æ°á»£c tráº£ lÆ°Æ¡ng cao, há» lÃ m viá»‡c chÄƒm chá»‰ hÆ¡n nhiá»u.", emoji: "ðŸ’°" },
        { en: "Smoking should be prohibited in public.", vi: "HÃºt thuá»‘c nÃªn bá»‹ cáº¥m á»Ÿ nÆ¡i cÃ´ng cá»™ng.", emoji: "ðŸš­" },
        { en: "Where does Mr. Brown work?", vi: "Ã”ng Brown lÃ m viá»‡c á»Ÿ Ä‘Ã¢u?", emoji: "ðŸ‘¨â€ðŸ’¼" },
        { en: "You are responsible to her for your serious mistakes.", vi: "Báº¡n pháº£i chá»‹u trÃ¡ch nhiá»‡m vá»›i cÃ´ áº¥y vá» nhá»¯ng lá»—i láº§m nghiÃªm trá»ng cá»§a mÃ¬nh.", emoji: "ðŸ˜Ÿ" },
        { en: "How often do they go camping?", vi: "Há» cÃ³ thÆ°á»ng Ä‘i cáº¯m tráº¡i khÃ´ng?", emoji: "ðŸ•ï¸" },
        { en: "The climate is getting hotter and hotter.", vi: "KhÃ­ háº­u Ä‘ang ngÃ y cÃ ng nÃ³ng lÃªn.", emoji: "ðŸŒ¡ï¸" },
        { en: "My sister isn't very keen on computer games.", vi: "Chá»‹ gÃ¡i tÃ´i khÃ´ng há»©ng thÃº láº¯m vá»›i trÃ² chÆ¡i mÃ¡y tÃ­nh.", emoji: "ðŸŽ®" },
        { en: "He thinks that chatting on the Internet is a waste of time.", vi: "Anh áº¥y nghÄ© ráº±ng tÃ¡n gáº«u trÃªn Internet lÃ  má»™t sá»± lÃ£ng phÃ­ thá»i gian.", emoji: "ðŸ’»" },
        { en: "He bought his house with his own money.", vi: "Anh áº¥y Ä‘Ã£ mua nhÃ  báº±ng tiá»n cá»§a mÃ¬nh.", emoji: "ðŸ " },
        { en: "They marked the occasion with an open-air concert.", vi: "Há» Ä‘Ã£ ká»· niá»‡m sá»± kiá»‡n báº±ng má»™t buá»•i hÃ²a nháº¡c ngoÃ i trá»i.", emoji: "ðŸŽ¤" },
        { en: "Study hard or you'll fail the exam.", vi: "Há»c hÃ nh chÄƒm chá»‰ náº¿u khÃ´ng báº¡n sáº½ trÆ°á»£t ká»³ thi.", emoji: "âœï¸" },
        { en: "Many people think that students have an easy life.", vi: "Nhiá»u ngÆ°á»i nghÄ© ráº±ng sinh viÃªn cÃ³ má»™t cuá»™c sá»‘ng dá»… dÃ ng.", emoji: "ðŸ§‘â€ðŸŽ“" },
        { en: "Our post is delivered daily, except on Sunday.", vi: "BÆ°u pháº©m cá»§a chÃºng tÃ´i Ä‘Æ°á»£c giao hÃ ng ngÃ y, trá»« Chá»§ nháº­t.", emoji: "ðŸ“®" },
        { en: "Most paper is made from wood.", vi: "Háº§u háº¿t giáº¥y Ä‘Æ°á»£c lÃ m tá»« gá»—.", emoji: "ðŸŒ³" },
        { en: "On the other hand, there are some serious disadvantages.", vi: "Máº·t khÃ¡c, cÃ³ má»™t sá»‘ nhÆ°á»£c Ä‘iá»ƒm nghiÃªm trá»ng.", emoji: "ðŸ¤”" },
        { en: "A grocery store is a place where people can buy food and small things.", vi: "Cá»­a hÃ ng táº¡p hÃ³a lÃ  nÆ¡i má»i ngÆ°á»i cÃ³ thá»ƒ mua thá»±c pháº©m vÃ  nhá»¯ng thá»© nhá» nháº·t.", emoji: "ðŸ›’" },
        { en: "You have to pay a deposit if you want to use the motorbike.", vi: "Báº¡n pháº£i tráº£ tiá»n Ä‘áº·t cá»c náº¿u muá»‘n sá»­ dá»¥ng xe mÃ¡y.", emoji: "ðŸ›µ" },
        { en: "Peter used to write to me until last year. Now he sends me e-mail.", vi: "Peter thÆ°á»ng viáº¿t thÆ° cho tÃ´i cho Ä‘áº¿n nÄƒm ngoÃ¡i. BÃ¢y giá» anh áº¥y gá»­i email cho tÃ´i.", emoji: "ðŸ“§" },
        { en: "Did your flatmate use to clean the house?", vi: "Báº¡n cÃ¹ng phÃ²ng cá»§a báº¡n cÃ³ thÆ°á»ng dá»n dáº¹p nhÃ  cá»­a khÃ´ng?", emoji: "ðŸ§¹" },
        { en: "These girls are not old enough to get married.", vi: "Nhá»¯ng cÃ´ gÃ¡i nÃ y chÆ°a Ä‘á»§ tuá»•i Ä‘á»ƒ káº¿t hÃ´n.", emoji: "ðŸ’" },
        { en: "He said 'Hello' in a most friendly way.", vi: "Anh áº¥y nÃ³i 'Xin chÃ o' má»™t cÃ¡ch ráº¥t thÃ¢n thiá»‡n.", emoji: "ðŸ‘‹" },
        { en: "Binet wants to learn about auto mechanics.", vi: "Binet muá»‘n há»c vá» cÆ¡ khÃ­ Ã´ tÃ´.", emoji: "ðŸ”§" },
        { en: "The girl helping children in her free time is my friend.", vi: "CÃ´ gÃ¡i giÃºp Ä‘á»¡ tráº» em trong thá»i gian ráº£nh lÃ  báº¡n cá»§a tÃ´i.", emoji: "ðŸ‘§" },
        { en: "I was drying the dishes when I dropped the plate.", vi: "TÃ´i Ä‘ang lau bÃ¡t Ä‘Ä©a thÃ¬ lÃ m rÆ¡i cÃ¡i Ä‘Ä©a.", emoji: "ðŸ½ï¸" },
        { en: "Limestone is a type of white or gray stone containing calcium, used for building and making cement.", vi: "ÄÃ¡ vÃ´i lÃ  má»™t loáº¡i Ä‘Ã¡ mÃ u tráº¯ng hoáº·c xÃ¡m chá»©a canxi, Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¢y dá»±ng vÃ  lÃ m xi mÄƒng.", emoji: "ðŸª¨" },
        { en: "Milk bottles can be reused after being cleaned.", vi: "Chai sá»¯a cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng sau khi Ä‘Æ°á»£c lÃ m sáº¡ch.", emoji: "â™»ï¸" },
        { en: "She arrived early in order to get a good seat.", vi: "CÃ´ áº¥y Ä‘Ã£ Ä‘áº¿n sá»›m Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c má»™t chá»— ngá»“i tá»‘t.", emoji: "ðŸª‘" },
        { en: "The journey was quite different from what I thought it would be.", vi: "Chuyáº¿n Ä‘i khÃ¡ khÃ¡c so vá»›i nhá»¯ng gÃ¬ tÃ´i nghÄ©.", emoji: "ðŸ—ºï¸" },
        { en: "You can answer these questions by mail.", vi: "Báº¡n cÃ³ thá»ƒ tráº£ lá»i nhá»¯ng cÃ¢u há»i nÃ y qua thÆ°.", emoji: "âœ‰ï¸" },
        { en: "Thank you for waking me up. I was having a nightmare!", vi: "Cáº£m Æ¡n báº¡n Ä‘Ã£ Ä‘Ã¡nh thá»©c tÃ´i. TÃ´i Ä‘Ã£ gáº·p Ã¡c má»™ng!", emoji: "ðŸ˜±" },
        { en: "The secretary will arrange for you to visit our factory next week.", vi: "ThÆ° kÃ½ sáº½ sáº¯p xáº¿p cho báº¡n Ä‘áº¿n thÄƒm nhÃ  mÃ¡y cá»§a chÃºng tÃ´i vÃ o tuáº§n tá»›i.", emoji: "ðŸ­" },
        { en: "He locked the door so that nobody could disturb him.", vi: "Anh áº¥y Ä‘Ã£ khÃ³a cá»­a Ä‘á»ƒ khÃ´ng ai cÃ³ thá»ƒ lÃ m phiá»n anh áº¥y.", emoji: "ðŸ”’" },
        { en: "The ASEAN was established in 1967.", vi: "ASEAN Ä‘Æ°á»£c thÃ nh láº­p vÃ o nÄƒm 1967.", emoji: "ðŸ¤" },
        { en: "It is a four-hour drive from Thanh Hoa to Hanoi.", vi: "Máº¥t bá»‘n giá» lÃ¡i xe tá»« Thanh HÃ³a Ä‘áº¿n HÃ  Ná»™i.", emoji: "ðŸš—" },
        { en: "I bought lace curtains for my bedroom window.", vi: "TÃ´i Ä‘Ã£ mua rÃ¨m ren cho cá»­a sá»• phÃ²ng ngá»§ cá»§a mÃ¬nh.", emoji: "ðŸªŸ" },
        { en: "They fly kites when they have free time.", vi: "Há» tháº£ diá»u khi cÃ³ thá»i gian ráº£nh.", emoji: "ðŸª" },
        { en: "They kept me waiting for twenty minutes.", vi: "Há» báº¯t tÃ´i Ä‘á»£i hai mÆ°Æ¡i phÃºt.", emoji: "â³" },
        { en: "When I met them in the streets yesterday, they were going to the cinema.", vi: "Khi tÃ´i gáº·p há» trÃªn Ä‘Æ°á»ng phá»‘ hÃ´m qua, há» Ä‘ang Ä‘i Ä‘áº¿n ráº¡p chiáº¿u phim.", emoji: "ðŸŽ¬" },
        { en: "My sister loves to watch the stars at night.", vi: "Chá»‹ gÃ¡i tÃ´i thÃ­ch ngáº¯m sao vÃ o ban Ä‘Ãªm.", emoji: "â­" },
        { en: "Lying on the sofa, you can turn on or turn off your TV by using the remote control.", vi: "Náº±m trÃªn gháº¿ sofa, báº¡n cÃ³ thá»ƒ báº­t hoáº·c táº¯t TV báº±ng Ä‘iá»u khiá»ƒn tá»« xa.", emoji: "ðŸ›‹ï¸" },
        { en: "Agriculture may cause environmental problems.", vi: "NÃ´ng nghiá»‡p cÃ³ thá»ƒ gÃ¢y ra cÃ¡c váº¥n Ä‘á» vá» mÃ´i trÆ°á»ng.", emoji: "ðŸŒ¾" },
        { en: "One of the important skills in learning a language is writing.", vi: "Má»™t trong nhá»¯ng ká»¹ nÄƒng quan trá»ng trong viá»‡c há»c má»™t ngÃ´n ngá»¯ lÃ  viáº¿t.", emoji: "âœï¸" },
        { en: "The victim was given first-aid before he was taken to hospital.", vi: "Náº¡n nhÃ¢n Ä‘Ã£ Ä‘Æ°á»£c sÆ¡ cá»©u trÆ°á»›c khi Ä‘Æ°á»£c Ä‘Æ°a Ä‘áº¿n bá»‡nh viá»‡n.", emoji: "ðŸš‘" },
        { en: "The students were talking noisily when the teacher came in.", vi: "CÃ¡c há»c sinh Ä‘ang nÃ³i chuyá»‡n á»“n Ã o khi giÃ¡o viÃªn bÆ°á»›c vÃ o.", emoji: "ðŸ¤«" },
        { en: "Phong doesn't like English. He is very bad at it.", vi: "Phong khÃ´ng thÃ­ch tiáº¿ng Anh. Anh áº¥y ráº¥t tá»‡ mÃ´n Ä‘Ã³.", emoji: "ðŸ‡¬ðŸ‡§" },
        { en: "The footballer scored six goals, so his team won the game.", vi: "Cáº§u thá»§ bÃ³ng Ä‘Ã¡ Ä‘Ã£ ghi sÃ¡u bÃ n, vÃ¬ váº­y Ä‘á»™i cá»§a anh áº¥y Ä‘Ã£ tháº¯ng tráº­n Ä‘áº¥u.", emoji: "âš½" },
        { en: "They have known each other for a long time.", vi: "Há» Ä‘Ã£ biáº¿t nhau tá»« lÃ¢u.", emoji: "ðŸ§‘â€ðŸ¤â€ðŸ§‘" },
        { en: "Arthur apologized for hurting her feeling.", vi: "Arthur Ä‘Ã£ xin lá»—i vÃ¬ Ä‘Ã£ lÃ m tá»•n thÆ°Æ¡ng cáº£m xÃºc cá»§a cÃ´ áº¥y.", emoji: "ðŸ˜”" },
        { en: "Put down your gun and put up your hands.", vi: "Äáº·t sÃºng xuá»‘ng vÃ  giÆ¡ tay lÃªn.", emoji: "ðŸ™Œ" },
        { en: "To obtain the best result, mix the powder with warm water.", vi: "Äá»ƒ cÃ³ káº¿t quáº£ tá»‘t nháº¥t, hÃ£y trá»™n bá»™t vá»›i nÆ°á»›c áº¥m.", emoji: "ðŸ§ª" },
        { en: "If I had a lot of money, I would buy a car.", vi: "Náº¿u tÃ´i cÃ³ nhiá»u tiá»n, tÃ´i sáº½ mua má»™t chiáº¿c Ã´ tÃ´.", emoji: "ðŸ’°" },
        { en: "People didn't talk on the phone one hundred years ago.", vi: "Má»i ngÆ°á»i khÃ´ng nÃ³i chuyá»‡n trÃªn Ä‘iá»‡n thoáº¡i má»™t trÄƒm nÄƒm trÆ°á»›c.", emoji: "â˜Žï¸" },
        { en: "Jane and Jack stood in front of the mirror and looked at themselves.", vi: "Jane vÃ  Jack Ä‘á»©ng trÆ°á»›c gÆ°Æ¡ng vÃ  nhÃ¬n mÃ¬nh.", emoji: "ðŸªž" },
        { en: "After the flood, people in this province have to face up to famine.", vi: "Sau tráº­n lá»¥t, ngÆ°á»i dÃ¢n á»Ÿ tá»‰nh nÃ y pháº£i Ä‘á»‘i máº·t vá»›i náº¡n Ä‘Ã³i.", emoji: "ðŸŒŠ" },
        { en: "This pen costs twice as much as the other one.", vi: "CÃ¢y bÃºt nÃ y Ä‘áº¯t gáº¥p Ä‘Ã´i cÃ¢y bÃºt kia.", emoji: "ðŸ–Šï¸" },
        { en: "He is delighted that you have paid attention to recycling.", vi: "Anh áº¥y ráº¥t vui vÃ¬ báº¡n Ä‘Ã£ quan tÃ¢m Ä‘áº¿n viá»‡c tÃ¡i cháº¿.", emoji: "â™»ï¸" },
        { en: "We are taking our evening walk at the moment.", vi: "ChÃºng tÃ´i Ä‘ang Ä‘i dáº¡o buá»•i tá»‘i vÃ o lÃºc nÃ y.", emoji: "ðŸš¶" },
        { en: "He asked me where I would go the next day.", vi: "Anh áº¥y há»i tÃ´i sáº½ Ä‘i Ä‘Ã¢u vÃ o ngÃ y hÃ´m sau.", emoji: "â“" },
        { en: "They work hard so that they might be well prepared for the examination.", vi: "Há» lÃ m viá»‡c chÄƒm chá»‰ Ä‘á»ƒ cÃ³ thá»ƒ chuáº©n bá»‹ tá»‘t cho ká»³ thi.", emoji: "âœï¸" },
        { en: "The car alarm woke me up at 6:00 yesterday morning.", vi: "ChuÃ´ng bÃ¡o Ä‘á»™ng Ã´ tÃ´ Ä‘Ã£ Ä‘Ã¡nh thá»©c tÃ´i lÃºc 6:00 sÃ¡ng hÃ´m qua.", emoji: "â°" },
        { en: "Mary is interested in marine life so she's visiting the oceanic institute in Nha Trang.", vi: "Mary quan tÃ¢m Ä‘áº¿n sinh váº­t biá»ƒn nÃªn cÃ´ áº¥y Ä‘ang Ä‘áº¿n thÄƒm viá»‡n háº£i dÆ°Æ¡ng há»c á»Ÿ Nha Trang.", emoji: "ðŸ " },
        { en: "It took the old woman an hour to walk to the provision shop and return.", vi: "BÃ  lÃ£o máº¥t má»™t giá» Ä‘á»ƒ Ä‘i bá»™ Ä‘áº¿n cá»­a hÃ ng thá»±c pháº©m vÃ  quay láº¡i.", emoji: "ðŸ‘µ" },
        { en: "The 20th century is considered to be the century of inventions with TV, computer and etc.", vi: "Tháº¿ ká»· 20 Ä‘Æ°á»£c coi lÃ  tháº¿ ká»· cá»§a cÃ¡c phÃ¡t minh vá»›i TV, mÃ¡y tÃ­nh, v.v.", emoji: "ðŸ’¡" },
        { en: "Would you like to have a cup of coffee?", vi: "Báº¡n cÃ³ muá»‘n uá»‘ng má»™t tÃ¡ch cÃ  phÃª khÃ´ng?", emoji: "â˜•" },
        { en: "Every week, there are two flights from Ha Noi to Nha Trang.", vi: "Má»—i tuáº§n cÃ³ hai chuyáº¿n bay tá»« HÃ  Ná»™i Ä‘áº¿n Nha Trang.", emoji: "âœˆï¸" },
        { en: "Her full name's Sarah Johnson.", vi: "TÃªn Ä‘áº§y Ä‘á»§ cá»§a cÃ´ áº¥y lÃ  Sarah Johnson.", emoji: "ðŸ§‘" },
        { en: "The factory workers work from seven in the morning until five in the afternoon.", vi: "CÃ¡c cÃ´ng nhÃ¢n nhÃ  mÃ¡y lÃ m viá»‡c tá»« báº£y giá» sÃ¡ng Ä‘áº¿n nÄƒm giá» chiá»u.", emoji: "ðŸ­" },
        { en: "The storm prevented the climbers from continuing their adventure.", vi: "CÆ¡n bÃ£o Ä‘Ã£ ngÄƒn cáº£n nhá»¯ng ngÆ°á»i leo nÃºi tiáº¿p tá»¥c cuá»™c phiÃªu lÆ°u cá»§a há».", emoji: "â›ˆï¸" },
        { en: "Supplying COVID-19 vaccines is not enough.", vi: "Cung cáº¥p váº¯c-xin COVID-19 lÃ  khÃ´ng Ä‘á»§.", emoji: "ðŸ’‰" },
        { en: "My brother has a car but he does not use it very often.", vi: "Anh trai tÃ´i cÃ³ má»™t chiáº¿c Ã´ tÃ´ nhÆ°ng anh áº¥y khÃ´ng sá»­ dá»¥ng nÃ³ thÆ°á»ng xuyÃªn.", emoji: "ðŸš—" },
        { en: "Before accepting your job offer, can you tell me some more about the company?", vi: "TrÆ°á»›c khi cháº¥p nháº­n lá»i má»i lÃ m viá»‡c cá»§a báº¡n, báº¡n cÃ³ thá»ƒ cho tÃ´i biáº¿t thÃªm vá» cÃ´ng ty Ä‘Æ°á»£c khÃ´ng?", emoji: "ðŸ¢" },
        { en: "What do you like best about your school?", vi: "Báº¡n thÃ­ch Ä‘iá»u gÃ¬ nháº¥t á»Ÿ trÆ°á»ng cá»§a mÃ¬nh?", emoji: "ðŸ«" },
        { en: "We saw a lot of women planting rice in the rice fields.", vi: "ChÃºng tÃ´i Ä‘Ã£ tháº¥y ráº¥t nhiá»u phá»¥ ná»¯ cáº¥y lÃºa trÃªn nhá»¯ng cÃ¡nh Ä‘á»“ng lÃºa.", emoji: "ðŸŒ¾" },
        { en: "Unfortunately, our flight was delayed for 2 hours, so we were late for the last train.", vi: "Tháº­t khÃ´ng may, chuyáº¿n bay cá»§a chÃºng tÃ´i Ä‘Ã£ bá»‹ hoÃ£n 2 giá», vÃ¬ váº­y chÃºng tÃ´i Ä‘Ã£ trá»… chuyáº¿n tÃ u cuá»‘i cÃ¹ng.", emoji: "ðŸš†" },
        { en: "What a nuisance! I hope we won't meet him again.", vi: "Tháº­t lÃ  phiá»n phá»©c! TÃ´i hy vá»ng chÃºng ta sáº½ khÃ´ng gáº·p láº¡i anh ta.", emoji: "ðŸ˜¤" },
        { en: "When I entered his house, he was cooking.", vi: "Khi tÃ´i vÃ o nhÃ  anh áº¥y, anh áº¥y Ä‘ang náº¥u Äƒn.", emoji: "ðŸ³" },
        { en: "They spent a lot of money on food and clothes.", vi: "Há» Ä‘Ã£ chi ráº¥t nhiá»u tiá»n cho thá»±c pháº©m vÃ  quáº§n Ã¡o.", emoji: "ðŸ›ï¸" },
        { en: "How can we remember all these vocabulary items?", vi: "LÃ m tháº¿ nÃ o chÃºng ta cÃ³ thá»ƒ nhá»› táº¥t cáº£ cÃ¡c má»¥c tá»« vá»±ng nÃ y?", emoji: "ðŸ§ " },
        { en: "I wonder if he will ever return home after going to Paris.", vi: "TÃ´i tá»± há»i liá»‡u anh áº¥y cÃ³ bao giá» trá»Ÿ vá» nhÃ  sau khi Ä‘áº¿n Paris khÃ´ng.", emoji: "ðŸ‡«ðŸ‡·" },
        { en: "The Panama Canal is in South America.", vi: "KÃªnh Ä‘Ã o Panama á»Ÿ Nam Má»¹.", emoji: "ðŸŒŽ" },
        { en: "My grandmother is very religious. She goes to pagoda every week.", vi: "BÃ  tÃ´i ráº¥t sÃ¹ng Ä‘áº¡o. BÃ  Ä‘i chÃ¹a má»—i tuáº§n.", emoji: "ðŸ‘µ" },
        { en: "The company will invest 2 million dollars to modernize its factories.", vi: "CÃ´ng ty sáº½ Ä‘áº§u tÆ° 2 triá»‡u Ä‘Ã´ la Ä‘á»ƒ hiá»‡n Ä‘áº¡i hÃ³a cÃ¡c nhÃ  mÃ¡y cá»§a mÃ¬nh.", emoji: "ðŸ­" },
        { en: "It is better for schoolgirls to wear trousers and blouses when they are at school.", vi: "Tá»‘t hÆ¡n cho ná»¯ sinh khi máº·c quáº§n vÃ  Ã¡o sÆ¡ mi khi á»Ÿ trÆ°á»ng.", emoji: "ðŸ‘š" },
        { en: "The boss told him to get out of the room.", vi: "Sáº¿p báº£o anh ta ra khá»i phÃ²ng.", emoji: "ðŸ˜ " },
        { en: "Sooner or later a satellite will be destroyed by a large piece of rubbish.", vi: "Sá»›m hay muá»™n má»™t vá»‡ tinh sáº½ bá»‹ phÃ¡ há»§y bá»Ÿi má»™t máº£nh rÃ¡c lá»›n.", emoji: "ðŸ›°ï¸" },
        { en: "The children are playing happily in the schoolyard.", vi: "CÃ¡c em Ä‘ang chÆ¡i vui váº» trong sÃ¢n trÆ°á»ng.", emoji: "ðŸ¤¸" },
        { en: "There aren't any buses in the streets because the drivers have gone on strike.", vi: "KhÃ´ng cÃ³ xe buÃ½t nÃ o trÃªn Ä‘Æ°á»ng phá»‘ vÃ¬ cÃ¡c tÃ i xáº¿ Ä‘Ã£ Ä‘Ã¬nh cÃ´ng.", emoji: "ðŸšŒ" },
        { en: "Jack told me that he was enjoying his new class.", vi: "Jack nÃ³i vá»›i tÃ´i ráº±ng anh áº¥y Ä‘ang thÃ­ch lá»›p há»c má»›i cá»§a mÃ¬nh.", emoji: "ðŸ§‘â€ðŸ«" },
        { en: "The teacher was ill last week.", vi: "GiÃ¡o viÃªn bá»‹ á»‘m vÃ o tuáº§n trÆ°á»›c.", emoji: "ðŸ¤’" },
        { en: "Is Facebook a dangerous addiction or just harmless fun?", vi: "Facebook lÃ  má»™t chá»©ng nghiá»‡n nguy hiá»ƒm hay chá»‰ lÃ  má»™t niá»m vui vÃ´ háº¡i?", emoji: "ðŸ“±" },
        { en: "We use chalk to write things on the blackboard.", vi: "ChÃºng tÃ´i dÃ¹ng pháº¥n Ä‘á»ƒ viáº¿t lÃªn báº£ng Ä‘en.", emoji: "âœï¸" },
        { en: "If the work is finished by lunchtime, you can go home.", vi: "Náº¿u cÃ´ng viá»‡c Ä‘Æ°á»£c hoÃ n thÃ nh trÆ°á»›c giá» Äƒn trÆ°a, báº¡n cÃ³ thá»ƒ vá» nhÃ .", emoji: "ðŸ•›" },
        { en: "It was very uncomfortable to sit in one place for so long.", vi: "Ngá»“i má»™t chá»— quÃ¡ lÃ¢u tháº­t khÃ´ng thoáº£i mÃ¡i.", emoji: "ðŸ§˜" },
        { en: "Sorry, I am late because I got stuck in the traffic jam.", vi: "Xin lá»—i, tÃ´i Ä‘áº¿n muá»™n vÃ¬ bá»‹ káº¹t xe.", emoji: "ðŸš—" },
        { en: "Mr. James was painting a picture when I came to meet him.", vi: "Ã”ng James Ä‘ang váº½ má»™t bá»©c tranh khi tÃ´i Ä‘áº¿n gáº·p Ã´ng.", emoji: "ðŸŽ¨" },
        { en: "She is flying to Hanoi next Monday.", vi: "CÃ´ áº¥y sáº½ bay Ä‘áº¿n HÃ  Ná»™i vÃ o thá»© Hai tá»›i.", emoji: "âœˆï¸" },
        { en: "His mother asked him to tidy up his room as it was dirty.", vi: "Máº¹ anh áº¥y yÃªu cáº§u anh áº¥y dá»n dáº¹p phÃ²ng cá»§a mÃ¬nh vÃ¬ nÃ³ báº©n.", emoji: "ðŸ§¹" },
        { en: "They are going to see the temple tomorrow.", vi: "Há» sáº½ Ä‘i xem ngÃ´i Ä‘á»n vÃ o ngÃ y mai.", emoji: "ðŸ›ï¸" },
        { en: "He has written four novels so far.", vi: "Anh áº¥y Ä‘Ã£ viáº¿t bá»‘n cuá»‘n tiá»ƒu thuyáº¿t cho Ä‘áº¿n nay.", emoji: "ðŸ“š" },
        { en: "Remember to wear your warm clothes when it's cold.", vi: "HÃ£y nhá»› máº·c quáº§n Ã¡o áº¥m khi trá»i láº¡nh.", emoji: "ðŸ§¥" },
        { en: "It'll only take me a few minutes and I'll be back very soon.", vi: "Sáº½ chá»‰ máº¥t vÃ i phÃºt thÃ´i vÃ  tÃ´i sáº½ quay láº¡i ráº¥t sá»›m.", emoji: "â³" },
        { en: "At last, after trying three times, he passed the examination.", vi: "Cuá»‘i cÃ¹ng, sau khi thá»­ ba láº§n, anh áº¥y Ä‘Ã£ vÆ°á»£t qua ká»³ thi.", emoji: "ðŸŽ‰" },
        { en: "You ought to report to the police if you see a robbery.", vi: "Báº¡n nÃªn bÃ¡o cáº£nh sÃ¡t náº¿u báº¡n tháº¥y má»™t vá»¥ cÆ°á»›p.", emoji: "ðŸš“" },
        { en: "There was a scary big storm on Christmas Day.", vi: "CÃ³ má»™t cÆ¡n bÃ£o lá»›n Ä‘Ã¡ng sá»£ vÃ o ngÃ y GiÃ¡ng sinh.", emoji: "â›ˆï¸" },
        { en: "Her good diet keeps her healthy.", vi: "Cháº¿ Ä‘á»™ Äƒn uá»‘ng tá»‘t cá»§a cÃ´ áº¥y giÃºp cÃ´ áº¥y khá»e máº¡nh.", emoji: "ðŸ¥—" },
        { en: "The cat is lying leisurely in the morning sunshine.", vi: "Con mÃ¨o Ä‘ang náº±m tháº£nh thÆ¡i trong náº¯ng sá»›m.", emoji: "ðŸˆ" },
        { en: "Over 50000 people in Ethiopia have died of starvation in the past month.", vi: "HÆ¡n 50000 ngÆ°á»i á»Ÿ Ethiopia Ä‘Ã£ cháº¿t vÃ¬ Ä‘Ã³i trong thÃ¡ng qua.", emoji: "ðŸ˜”" },
        { en: "I arrived home at ten fifteen last night.", vi: "TÃ´i vá» nhÃ  lÃºc mÆ°á»i giá» mÆ°á»i lÄƒm tá»‘i qua.", emoji: "ðŸ•™" },
        { en: "He failed the examination. He didn't study hard enough.", vi: "Anh áº¥y Ä‘Ã£ trÆ°á»£t ká»³ thi. Anh áº¥y Ä‘Ã£ khÃ´ng há»c Ä‘á»§ chÄƒm chá»‰.", emoji: "ðŸ˜ž" },
        { en: "My car was repaired yesterday.", vi: "Xe cá»§a tÃ´i Ä‘Ã£ Ä‘Æ°á»£c sá»­a chá»¯a ngÃ y hÃ´m qua.", emoji: "ðŸ”§" },
        { en: "All the subjects were taught by one teacher.", vi: "Táº¥t cáº£ cÃ¡c mÃ´n há»c Ä‘á»u do má»™t giÃ¡o viÃªn giáº£ng dáº¡y.", emoji: "ðŸ‘¨â€ðŸ«" },
        { en: "This is the first time I have visited a famous place in Hanoi.", vi: "ÄÃ¢y lÃ  láº§n Ä‘áº§u tiÃªn tÃ´i Ä‘áº¿n thÄƒm má»™t Ä‘á»‹a Ä‘iá»ƒm ná»•i tiáº¿ng á»Ÿ HÃ  Ná»™i.", emoji: "ðŸ‡»ðŸ‡³" },
        { en: "Nobody wants to work with him because he is always neglecting his duties.", vi: "KhÃ´ng ai muá»‘n lÃ m viá»‡c vá»›i anh ta vÃ¬ anh ta luÃ´n bá» bÃª nhiá»‡m vá»¥ cá»§a mÃ¬nh.", emoji: "ðŸ˜ " },
        { en: "Your sister likes watching detective films, doesn't she?", vi: "Chá»‹ gÃ¡i báº¡n thÃ­ch xem phim trinh thÃ¡m, pháº£i khÃ´ng?", emoji: "ðŸ•µï¸" },
        { en: "The film was not interesting enough for me to watch.", vi: "Bá»™ phim khÃ´ng Ä‘á»§ thÃº vá»‹ Ä‘á»ƒ tÃ´i xem.", emoji: "ðŸŽ¬" },
        { en: "My grandmother prefers wearing the traditional clothing to the modern clothing.", vi: "BÃ  tÃ´i thÃ­ch máº·c quáº§n Ã¡o truyá»n thá»‘ng hÆ¡n quáº§n Ã¡o hiá»‡n Ä‘áº¡i.", emoji: "ðŸ‘µ" },
        { en: "By whom was this story written?", vi: "CÃ¢u chuyá»‡n nÃ y Ä‘Æ°á»£c viáº¿t bá»Ÿi ai?", emoji: "âœï¸" },
        { en: "I went out with some friends on Saturday.", vi: "TÃ´i Ä‘Ã£ Ä‘i chÆ¡i vá»›i má»™t vÃ i ngÆ°á»i báº¡n vÃ o thá»© Báº£y.", emoji: "ðŸ§‘â€ðŸ¤â€ðŸ§‘" },
        { en: "If I were you, I would call and apologize.", vi: "Náº¿u tÃ´i lÃ  báº¡n, tÃ´i sáº½ gá»i vÃ  xin lá»—i.", emoji: "ðŸ“ž" },
        { en: "She went to market without buying anything.", vi: "CÃ´ áº¥y Ä‘i chá»£ mÃ  khÃ´ng mua báº¥t cá»© thá»© gÃ¬.", emoji: "ðŸ›’" },
        { en: "Someone is knocking at the door.", vi: "CÃ³ ai Ä‘Ã³ Ä‘ang gÃµ cá»­a.", emoji: "ðŸšª" },
        { en: "I need a hair dresser. I haven't been to the barber's recently.", vi: "TÃ´i cáº§n má»™t thá»£ lÃ m tÃ³c. Gáº§n Ä‘Ã¢y tÃ´i chÆ°a Ä‘áº¿n tiá»‡m cáº¯t tÃ³c.", emoji: "ðŸ’‡" },
        { en: "Sharp knives are actually safer to use than dull ones.", vi: "Dao sáº¯c thá»±c sá»± an toÃ n hÆ¡n dao cÃ¹n.", emoji: "ðŸ”ª" },
        { en: "Don't you believe in equality between men and women?", vi: "Báº¡n khÃ´ng tin vÃ o sá»± bÃ¬nh Ä‘áº³ng giá»¯a nam vÃ  ná»¯ sao?", emoji: "âš–ï¸" },
        { en: "Smoking is unhealthy but lots of people find it difficult to stop.", vi: "HÃºt thuá»‘c khÃ´ng tá»‘t cho sá»©c khá»e nhÆ°ng ráº¥t nhiá»u ngÆ°á»i cáº£m tháº¥y khÃ³ bá».", emoji: "ðŸš­" },
        { en: "In the world, tons of used papers are thrown away every day.", vi: "TrÃªn tháº¿ giá»›i, hÃ ng táº¥n giáº¥y Ä‘Ã£ qua sá»­ dá»¥ng bá»‹ vá»©t Ä‘i má»—i ngÃ y.", emoji: "ðŸ—‘ï¸" },
        { en: "As a sensible man, Henry always looks calm and makes a wise decision.", vi: "LÃ  má»™t ngÆ°á»i Ä‘Ã n Ã´ng khÃ´n ngoan, Henry luÃ´n trÃ´ng bÃ¬nh tÄ©nh vÃ  Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh sÃ¡ng suá»‘t.", emoji: "ðŸ§ " },
        { en: "In industry, most glass is manufactured.", vi: "Trong cÃ´ng nghiá»‡p, háº§u háº¿t thá»§y tinh Ä‘Æ°á»£c sáº£n xuáº¥t.", emoji: "ðŸ­" },
        { en: "It's very kind of you to help me.", vi: "Báº¡n tháº­t tá»‘t bá»¥ng khi giÃºp tÃ´i.", emoji: "ðŸ˜Š" },
        { en: "Hyde Park is a very large park in central London.", vi: "Hyde Park lÃ  má»™t cÃ´ng viÃªn ráº¥t lá»›n á»Ÿ trung tÃ¢m London.", emoji: "ðŸŒ³" },
        { en: "He wants to design a mobile app that makes education fun and easy.", vi: "Anh áº¥y muá»‘n thiáº¿t káº¿ má»™t á»©ng dá»¥ng di Ä‘á»™ng giÃºp viá»‡c há»c trá»Ÿ nÃªn thÃº vá»‹ vÃ  dá»… dÃ ng.", emoji: "ðŸ“±" },
        { en: "Medical facilities are more easily accessible than ever before.", vi: "CÃ¡c cÆ¡ sá»Ÿ y táº¿ dá»… tiáº¿p cáº­n hÆ¡n bao giá» háº¿t.", emoji: "ðŸ¥" },
        { en: "Our teacher asked us what we were most worried about.", vi: "GiÃ¡o viÃªn há»i chÃºng tÃ´i lo láº¯ng nháº¥t vá» Ä‘iá»u gÃ¬.", emoji: "ðŸ˜Ÿ" },
        { en: "Mai broke the glass because of her carelessness.", vi: "Mai Ä‘Ã£ lÃ m vá»¡ kÃ­nh vÃ¬ sá»± báº¥t cáº©n cá»§a mÃ¬nh.", emoji: "ðŸ’¥" },
        { en: "Bill Gates is a very important person in the computer industry.", vi: "Bill Gates lÃ  má»™t ngÆ°á»i ráº¥t quan trá»ng trong ngÃ nh cÃ´ng nghiá»‡p mÃ¡y tÃ­nh.", emoji: "ðŸ’»" },
        { en: "I catch the bus near my house and then walk from the bus stop to school.", vi: "TÃ´i báº¯t xe buÃ½t gáº§n nhÃ  vÃ  sau Ä‘Ã³ Ä‘i bá»™ tá»« tráº¡m xe buÃ½t Ä‘áº¿n trÆ°á»ng.", emoji: "ðŸšŒ" },
        { en: "Our environment is becoming more and more polluted.", vi: "MÃ´i trÆ°á»ng cá»§a chÃºng ta Ä‘ang ngÃ y cÃ ng bá»‹ Ã´ nhiá»…m.", emoji: "ðŸ­" },
        { en: "Yellowstone is the United States' most famous national park.", vi: "Yellowstone lÃ  cÃ´ng viÃªn quá»‘c gia ná»•i tiáº¿ng nháº¥t cá»§a Hoa Ká»³.", emoji: "ðŸžï¸" },
        { en: "Columbus discovered America in the 15th century.", vi: "Columbus Ä‘Ã£ khÃ¡m phÃ¡ ra chÃ¢u Má»¹ vÃ o tháº¿ ká»· 15.", emoji: "ðŸŒŽ" },
        { en: "Can you give me a ride?", vi: "Báº¡n cÃ³ thá»ƒ cho tÃ´i Ä‘i nhá» Ä‘Æ°á»£c khÃ´ng?", emoji: "ðŸš—" },
        { en: "What is the boy with black hair doing?", vi: "Cáº­u bÃ© tÃ³c Ä‘en Ä‘ang lÃ m gÃ¬ váº­y?", emoji: "ðŸ‘¦" },
        { en: "Read the user's manual carefully.", vi: "Äá»c ká»¹ hÆ°á»›ng dáº«n sá»­ dá»¥ng.", emoji: "ðŸ“–" },
        { en: "He set very difficult standards for himself.", vi: "Anh áº¥y Ä‘áº·t ra nhá»¯ng tiÃªu chuáº©n ráº¥t khÃ³ khÄƒn cho báº£n thÃ¢n.", emoji: "ðŸŽ¯" },
        { en: "The cold 'cures' don't cure a cold, but they relieve the symptoms.", vi: "CÃ¡c 'phÆ°Æ¡ng phÃ¡p chá»¯a' cáº£m láº¡nh khÃ´ng chá»¯a khá»i cáº£m láº¡nh, nhÆ°ng chÃºng lÃ m giáº£m cÃ¡c triá»‡u chá»©ng.", emoji: "ðŸ’Š" },
        { en: "Add sugar, water and flour to the beaten eggs and stir the mixture well.", vi: "ThÃªm Ä‘Æ°á»ng, nÆ°á»›c vÃ  bá»™t vÃ o trá»©ng Ä‘Ã£ Ä‘Ã¡nh vÃ  khuáº¥y Ä‘á»u há»—n há»£p.", emoji: "ðŸ¥š" },
        { en: "My little daughter is looking at herself in the mirror.", vi: "Con gÃ¡i nhá» cá»§a tÃ´i Ä‘ang soi gÆ°Æ¡ng.", emoji: "ðŸªž" },
        { en: "About 60% of the world's radio stations broadcast in English.", vi: "Khoáº£ng 60% cÃ¡c Ä‘Ã i phÃ¡t thanh trÃªn tháº¿ giá»›i phÃ¡t sÃ³ng báº±ng tiáº¿ng Anh.", emoji: "ðŸ“»" },
        { en: "A gallery is a building or a room where people can go to look at paintings.", vi: "PhÃ²ng trÆ°ng bÃ y lÃ  má»™t tÃ²a nhÃ  hoáº·c má»™t cÄƒn phÃ²ng nÆ¡i má»i ngÆ°á»i cÃ³ thá»ƒ Ä‘áº¿n xem tranh.", emoji: "ðŸ–¼ï¸" },
        { en: "His teacher said that he should do his homework more carefully.", vi: "GiÃ¡o viÃªn cá»§a anh áº¥y nÃ³i ráº±ng anh áº¥y nÃªn lÃ m bÃ i táº­p vá» nhÃ  cáº©n tháº­n hÆ¡n.", emoji: "âœï¸" },
        { en: "I always drive past the post office on my way to work.", vi: "TÃ´i luÃ´n lÃ¡i xe qua bÆ°u Ä‘iá»‡n trÃªn Ä‘Æ°á»ng Ä‘i lÃ m.", emoji: "ðŸ¤" },
        { en: "I asked if she could speak English.", vi: "TÃ´i há»i cÃ´ áº¥y cÃ³ nÃ³i Ä‘Æ°á»£c tiáº¿ng Anh khÃ´ng.", emoji: "ðŸ—£ï¸" },
        { en: "By learning English, you can get access to the world's development.", vi: "Báº±ng cÃ¡ch há»c tiáº¿ng Anh, báº¡n cÃ³ thá»ƒ tiáº¿p cáº­n vá»›i sá»± phÃ¡t triá»ƒn cá»§a tháº¿ giá»›i.", emoji: "ðŸŒ" },
        { en: "He always avoids meeting me.", vi: "Anh áº¥y luÃ´n trÃ¡nh gáº·p tÃ´i.", emoji: "ðŸ˜’" },
        { en: "We sometimes send our relatives or friends greeting cards on special occasions.", vi: "ChÃºng tÃ´i thá»‰nh thoáº£ng gá»­i thiá»‡p chÃºc má»«ng cho há» hÃ ng hoáº·c báº¡n bÃ¨ vÃ o nhá»¯ng dá»‹p Ä‘áº·c biá»‡t.", emoji: "ðŸ’Œ" },
        { en: "Binh and I didn't go anywhere last weekend.", vi: "BÃ¬nh vÃ  tÃ´i khÃ´ng Ä‘i Ä‘Ã¢u vÃ o cuá»‘i tuáº§n trÆ°á»›c.", emoji: "ðŸ " },
        { en: "I have been staying in England for a few weeks now.", vi: "TÃ´i Ä‘Ã£ á»Ÿ Anh Ä‘Æ°á»£c vÃ i tuáº§n rá»“i.", emoji: "ðŸ‡¬ðŸ‡§" },
        { en: "It was difficult to arrange a day which was convenient for everyone.", vi: "Tháº­t khÃ³ Ä‘á»ƒ sáº¯p xáº¿p má»™t ngÃ y thuáº­n tiá»‡n cho má»i ngÆ°á»i.", emoji: "ðŸ—“ï¸" },
        { en: "The new radio didn't work, so he took it back to the shop.", vi: "CÃ¡i radio má»›i khÃ´ng hoáº¡t Ä‘á»™ng, vÃ¬ váº­y anh áº¥y Ä‘Ã£ mang nÃ³ trá»Ÿ láº¡i cá»­a hÃ ng.", emoji: "ðŸ“»" },
        { en: "There was so little sugar that I decided not to make a cake.", vi: "CÃ³ quÃ¡ Ã­t Ä‘Æ°á»ng nÃªn tÃ´i quyáº¿t Ä‘á»‹nh khÃ´ng lÃ m bÃ¡nh.", emoji: "ðŸ°" },
        { en: "I ran out of the room when the phone rang.", vi: "TÃ´i cháº¡y ra khá»i phÃ²ng khi Ä‘iá»‡n thoáº¡i reo.", emoji: "ðŸƒ" },
        { en: "These spoons are made from metal.", vi: "Nhá»¯ng chiáº¿c thÃ¬a nÃ y Ä‘Æ°á»£c lÃ m tá»« kim loáº¡i.", emoji: "ðŸ¥„" },
        { en: "Dead leaves fall to the ground and decompose very quickly in wet weather.", vi: "LÃ¡ cháº¿t rÆ¡i xuá»‘ng Ä‘áº¥t vÃ  phÃ¢n há»§y ráº¥t nhanh trong thá»i tiáº¿t áº©m Æ°á»›t.", emoji: "ðŸ‚" },
        { en: "Don't talk like that to me!", vi: "Äá»«ng nÃ³i chuyá»‡n vá»›i tÃ´i nhÆ° váº­y!", emoji: "ðŸ˜ " },
        { en: "Here is the photo of my family and let me tell you about us.", vi: "ÄÃ¢y lÃ  bá»©c áº£nh cá»§a gia Ä‘Ã¬nh tÃ´i vÃ  Ä‘á»ƒ tÃ´i ká»ƒ cho báº¡n nghe vá» chÃºng tÃ´i.", emoji: "ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦" },
        { en: "There are only a few hotels in the city so it's hard to find accommodation during the high season.", vi: "Chá»‰ cÃ³ má»™t vÃ i khÃ¡ch sáº¡n trong thÃ nh phá»‘ nÃªn ráº¥t khÃ³ tÃ¬m chá»— á»Ÿ trong mÃ¹a cao Ä‘iá»ƒm.", emoji: "ðŸ¨" },
        { en: "The doctor advised Robert to drink more fresh water.", vi: "BÃ¡c sÄ© khuyÃªn Robert nÃªn uá»‘ng nhiá»u nÆ°á»›c lá»c hÆ¡n.", emoji: "ðŸ’§" },
        { en: "Having the common cold is very unpleasant.", vi: "Bá»‹ cáº£m láº¡nh thÃ´ng thÆ°á»ng ráº¥t khÃ³ chá»‹u.", emoji: "ðŸ¤§" },
        { en: "When the clock strikes 6 a.m., my new day begins again.", vi: "Khi Ä‘á»“ng há»“ Ä‘iá»ƒm 6 giá» sÃ¡ng, má»™t ngÃ y má»›i cá»§a tÃ´i láº¡i báº¯t Ä‘áº§u.", emoji: "ðŸ••" },
        { en: "We can look for information on recycling things in the local library.", vi: "ChÃºng ta cÃ³ thá»ƒ tÃ¬m kiáº¿m thÃ´ng tin vá» viá»‡c tÃ¡i cháº¿ má»i thá»© trong thÆ° viá»‡n Ä‘á»‹a phÆ°Æ¡ng.", emoji: "â™»ï¸" },
        { en: "The 22nd Olympic Games were held in Moscow.", vi: "Tháº¿ váº­n há»™i Olympic láº§n thá»© 22 Ä‘Æ°á»£c tá»• chá»©c táº¡i Moscow.", emoji: "ðŸ†" },
        { en: "My sister is better at cooking than I am.", vi: "Chá»‹ gÃ¡i tÃ´i náº¥u Äƒn ngon hÆ¡n tÃ´i.", emoji: "ðŸ³" },
        { en: "These kinds of flowers are beautiful enough to be exported to foreign markets.", vi: "Nhá»¯ng loáº¡i hoa nÃ y Ä‘á»§ Ä‘áº¹p Ä‘á»ƒ xuáº¥t kháº©u sang thá»‹ trÆ°á»ng nÆ°á»›c ngoÃ i.", emoji: "ðŸ’" },
        { en: "It took me a long time to get used to wearing glasses.", vi: "TÃ´i máº¥t má»™t thá»i gian dÃ i Ä‘á»ƒ quen vá»›i viá»‡c Ä‘eo kÃ­nh.", emoji: "ðŸ‘“" },
        { en: "Much of champagne is exported from France to our country this year.", vi: "Pháº§n lá»›n sÃ¢m panh Ä‘Æ°á»£c xuáº¥t kháº©u tá»« PhÃ¡p sang nÆ°á»›c ta trong nÄƒm nay.", emoji: "ðŸ¾" },
        { en: "Our post is delivered daily, except on Sunday.", vi: "BÆ°u pháº©m cá»§a chÃºng tÃ´i Ä‘Æ°á»£c giao hÃ ng ngÃ y, trá»« Chá»§ nháº­t.", emoji: "ðŸ“®" },
        { en: "She used to be fond of pop music but has now lost interest in it.", vi: "CÃ´ áº¥y tá»«ng thÃ­ch nháº¡c pop nhÆ°ng giá» Ä‘Ã£ khÃ´ng cÃ²n há»©ng thÃº ná»¯a.", emoji: "ðŸŽ¶" },
        { en: "The song is about a green frog.", vi: "BÃ i hÃ¡t nÃ³i vá» má»™t con áº¿ch xanh.", emoji: "ðŸ¸" },
        { en: "We flew over the volcano and saw lava was pouring out.", vi: "ChÃºng tÃ´i bay qua nÃºi lá»­a vÃ  tháº¥y dung nham Ä‘ang phun trÃ o.", emoji: "ðŸŒ‹" },
        { en: "Nam often makes other people laugh because he likes telling jokes.", vi: "Nam thÆ°á»ng lÃ m ngÆ°á»i khÃ¡c cÆ°á»i vÃ¬ anh áº¥y thÃ­ch ká»ƒ chuyá»‡n cÆ°á»i.", emoji: "ðŸ˜‚" },
        { en: "He was so tired that he went to bed early.", vi: "Anh áº¥y quÃ¡ má»‡t nÃªn Ä‘Ã£ Ä‘i ngá»§ sá»›m.", emoji: "ðŸ˜´" },
        { en: "The weather forecast said it would rain heavily the following day.", vi: "Dá»± bÃ¡o thá»i tiáº¿t cho biáº¿t trá»i sáº½ mÆ°a to vÃ o ngÃ y hÃ´m sau.", emoji: "ðŸŒ§ï¸" },
        { en: "He is going to catch a bus to the Imperial Citadel of Thang Long next Sunday.", vi: "Anh áº¥y sáº½ báº¯t xe buÃ½t Ä‘áº¿n HoÃ ng thÃ nh ThÄƒng Long vÃ o Chá»§ nháº­t tá»›i.", emoji: "ðŸšŒ" },
        { en: "I'm not sure, but as far as I know he will stay at home on holiday.", vi: "TÃ´i khÃ´ng cháº¯c, nhÆ°ng theo tÃ´i biáº¿t thÃ¬ anh áº¥y sáº½ á»Ÿ nhÃ  vÃ o ká»³ nghá»‰.", emoji: "ðŸ " },
        { en: "My father doesn't smoke cigarettes any more. He gave it up five years ago.", vi: "Bá»‘ tÃ´i khÃ´ng hÃºt thuá»‘c lÃ¡ ná»¯a. Ã”ng Ä‘Ã£ bá» thuá»‘c nÄƒm nÄƒm trÆ°á»›c.", emoji: "ðŸš­" },
        { en: "Your application must be typed in 3 copies to hand in for our company.", vi: "ÄÆ¡n cá»§a báº¡n pháº£i Ä‘Æ°á»£c Ä‘Ã¡nh mÃ¡y thÃ nh 3 báº£n Ä‘á»ƒ ná»™p cho cÃ´ng ty chÃºng tÃ´i.", emoji: "ðŸ“„" },
        { en: "He gives her a novel about a love story.", vi: "Anh áº¥y táº·ng cÃ´ má»™t cuá»‘n tiá»ƒu thuyáº¿t vá» má»™t cÃ¢u chuyá»‡n tÃ¬nh yÃªu.", emoji: "â¤ï¸" },
        { en: "Big Ben is the most famous clock in London.", vi: "Big Ben lÃ  chiáº¿c Ä‘á»“ng há»“ ná»•i tiáº¿ng nháº¥t á»Ÿ London.", emoji: "ðŸ•°ï¸" },
        { en: "You can play whatever games you like in summer holiday.", vi: "Báº¡n cÃ³ thá»ƒ chÆ¡i báº¥t cá»© trÃ² chÆ¡i nÃ o báº¡n thÃ­ch trong ká»³ nghá»‰ hÃ¨.", emoji: "ðŸŽ®" },
        { en: "It only takes me about 40 minutes to get to work.", vi: "TÃ´i chá»‰ máº¥t khoáº£ng 40 phÃºt Ä‘á»ƒ Ä‘i lÃ m.", emoji: "â³" },
        { en: "It is a thirty-minute drive from here to the city center.", vi: "Máº¥t ba mÆ°Æ¡i phÃºt lÃ¡i xe tá»« Ä‘Ã¢y Ä‘áº¿n trung tÃ¢m thÃ nh phá»‘.", emoji: "ðŸš—" },
        { en: "If people don't throw trash into the water, it won't be polluted.", vi: "Náº¿u má»i ngÆ°á»i khÃ´ng xáº£ rÃ¡c xuá»‘ng nÆ°á»›c, nÃ³ sáº½ khÃ´ng bá»‹ Ã´ nhiá»…m.", emoji: "ðŸ’§" },
        { en: "He used to drive more carefully than he does now.", vi: "Anh áº¥y tá»«ng lÃ¡i xe cáº©n tháº­n hÆ¡n bÃ¢y giá».", emoji: "ðŸš—" },
        { en: "We arrived on time although the traffic was bad.", vi: "ChÃºng tÃ´i Ä‘Ã£ Ä‘áº¿n Ä‘Ãºng giá» máº·c dÃ¹ giao thÃ´ng ráº¥t tá»‡.", emoji: "â°" },
        { en: "Jane and Jack stood in front of the mirror and looked at themselves.", vi: "Jane vÃ  Jack Ä‘á»©ng trÆ°á»›c gÆ°Æ¡ng vÃ  soi mÃ¬nh.", emoji: "ðŸªž" },
        { en: "The professor gave an interesting talk on the global climates.", vi: "GiÃ¡o sÆ° Ä‘Ã£ cÃ³ má»™t bÃ i nÃ³i chuyá»‡n thÃº vá»‹ vá» khÃ­ háº­u toÃ n cáº§u.", emoji: "ðŸ‘¨â€ðŸ«" },
        { en: "John should go to Nha Rong Harbor because it is the place where President Ho Chi Minh left Vietnam in 1911.", vi: "John nÃªn Ä‘áº¿n Báº¿n NhÃ  Rá»“ng vÃ¬ Ä‘Ã³ lÃ  nÆ¡i Chá»§ tá»‹ch Há»“ ChÃ­ Minh rá»i Viá»‡t Nam nÄƒm 1911.", emoji: "ðŸ‡»ðŸ‡³" },
        { en: "The Amazon is one of the longest rivers in the world.", vi: "Amazon lÃ  má»™t trong nhá»¯ng con sÃ´ng dÃ i nháº¥t tháº¿ giá»›i.", emoji: "ðŸžï¸" },
        { en: "In Vietnam, there are more and more families having cable TV.", vi: "á»ž Viá»‡t Nam ngÃ y cÃ ng cÃ³ nhiá»u gia Ä‘Ã¬nh cÃ³ truyá»n hÃ¬nh cÃ¡p.", emoji: "ðŸ“º" },
        { en: "The victim shouldn't drink any wine when he or she has a shock.", vi: "Náº¡n nhÃ¢n khÃ´ng nÃªn uá»‘ng báº¥t ká»³ loáº¡i rÆ°á»£u nÃ o khi bá»‹ sá»‘c.", emoji: "ðŸ·" },
        { en: "Ricky is looking up the gas station on the mobile phone.", vi: "Ricky Ä‘ang tÃ¬m tráº¡m xÄƒng trÃªn Ä‘iá»‡n thoáº¡i di Ä‘á»™ng.", emoji: "â›½" },
        { en: "Which day of the week is the School's festival day?", vi: "NgÃ y há»™i cá»§a trÆ°á»ng lÃ  thá»© máº¥y trong tuáº§n?", emoji: "ðŸŽ‰" },
        { en: "After the flood, people in this province have to face up to famine.", vi: "Sau tráº­n lá»¥t, ngÆ°á»i dÃ¢n tá»‰nh nÃ y pháº£i Ä‘á»‘i máº·t vá»›i náº¡n Ä‘Ã³i.", emoji: "ðŸŒŠ" },
        { en: "He arrived in England on Thursday afternoon.", vi: "Anh áº¥y Ä‘áº¿n Anh vÃ o chiá»u thá»© NÄƒm.", emoji: "ðŸ‡¬ðŸ‡§" },
        { en: "They have lived in that house for several months.", vi: "Há» Ä‘Ã£ sá»‘ng trong ngÃ´i nhÃ  Ä‘Ã³ Ä‘Æ°á»£c vÃ i thÃ¡ng.", emoji: "ðŸ " },
        { en: "Hue is a very tranquil and marvelous city in the central part of Vietnam.", vi: "Huáº¿ lÃ  má»™t thÃ nh phá»‘ ráº¥t yÃªn tÄ©nh vÃ  ká»³ diá»‡u á»Ÿ miá»n trung Viá»‡t Nam.", emoji: "ðŸ¯" },
        { en: "To Huu was a famous Vietnamese poet.", vi: "Tá»‘ Há»¯u lÃ  má»™t nhÃ  thÆ¡ ná»•i tiáº¿ng cá»§a Viá»‡t Nam.", emoji: "âœï¸" },
        { en: "It took the old woman an hour to walk around the lake yesterday.", vi: "BÃ  lÃ£o máº¥t má»™t giá» Ä‘á»ƒ Ä‘i dáº¡o quanh há»“ hÃ´m qua.", emoji: "ðŸš¶â€â™€ï¸" },
        { en: "What do you like best about your school?", vi: "Báº¡n thÃ­ch Ä‘iá»u gÃ¬ nháº¥t á»Ÿ trÆ°á»ng cá»§a mÃ¬nh?", emoji: "ðŸ«" },
        { en: "A private nurse will take care of her when she is ill.", vi: "Má»™t y tÃ¡ riÃªng sáº½ chÄƒm sÃ³c cÃ´ áº¥y khi cÃ´ áº¥y bá»‹ á»‘m.", emoji: "ðŸ‘©â€âš•ï¸" },
        { en: "You'd better go to the dentist regularly.", vi: "Báº¡n nÃªn Ä‘i khÃ¡m nha sÄ© thÆ°á»ng xuyÃªn.", emoji: "ðŸ¦·" },
        { en: "The sea and rivers are too dirty to swim in.", vi: "Biá»ƒn vÃ  sÃ´ng quÃ¡ báº©n Ä‘á»ƒ bÆ¡i.", emoji: "ðŸŒŠ" },
        { en: "Lucy got dressed quickly and went for work.", vi: "Lucy máº·c quáº§n Ã¡o nhanh chÃ³ng vÃ  Ä‘i lÃ m.", emoji: "ðŸƒâ€â™€ï¸" },
        { en: "There is a meeting between 9 am and 2 pm.", vi: "CÃ³ má»™t cuá»™c há»p tá»« 9 giá» sÃ¡ng Ä‘áº¿n 2 giá» chiá»u.", emoji: "ðŸ—“ï¸" },
        { en: "How skillfully Van Hau plays football!", vi: "VÄƒn Háº­u chÆ¡i bÃ³ng Ä‘Ã¡ tháº­t Ä‘iÃªu luyá»‡n!", emoji: "âš½" },
        { en: "Susan was very pleased with the birthday present her father gave her.", vi: "Susan ráº¥t hÃ i lÃ²ng vá»›i mÃ³n quÃ  sinh nháº­t mÃ  bá»‘ cÃ´ Ä‘Ã£ táº·ng.", emoji: "ðŸŽ" },
        { en: "John told Mary not to touch the wall.", vi: "John báº£o Mary khÃ´ng Ä‘Æ°á»£c cháº¡m vÃ o tÆ°á»ng.", emoji: "ðŸš«" },
        { en: "I don't like pop music. My sister doesn't like it either.", vi: "TÃ´i khÃ´ng thÃ­ch nháº¡c pop. Chá»‹ gÃ¡i tÃ´i cÅ©ng khÃ´ng thÃ­ch.", emoji: "ðŸŽ¶" },
        { en: "They have just phoned to say that they aren't coming back till Friday night.", vi: "Há» vá»«a gá»i Ä‘iá»‡n Ä‘á»ƒ nÃ³i ráº±ng há» sáº½ khÃ´ng quay láº¡i cho Ä‘áº¿n tá»‘i thá»© SÃ¡u.", emoji: "ðŸ“ž" },
        { en: "Bowls, vases, jars, beer mugs and champagne glasses are sold in the glassware store.", vi: "BÃ¡t, lá», bÃ¬nh, cá»‘c bia vÃ  ly sÃ¢m panh Ä‘Æ°á»£c bÃ¡n trong cá»­a hÃ ng Ä‘á»“ thá»§y tinh.", emoji: "ðŸº" },
        { en: "If it is kept dry, a seed can still sprout up to forty years after its formation.", vi: "Náº¿u Ä‘Æ°á»£c giá»¯ khÃ´, má»™t háº¡t giá»‘ng váº«n cÃ³ thá»ƒ náº£y máº§m Ä‘áº¿n bá»‘n mÆ°Æ¡i nÄƒm sau khi hÃ¬nh thÃ nh.", emoji: "ðŸŒ±" },
        { en: "She is very gorgeous in velvet.", vi: "CÃ´ áº¥y ráº¥t lá»™ng láº«y trong bá»™ Ä‘á»“ nhung.", emoji: "âœ¨" },
        { en: "I have to change the old car tyre. It's flat.", vi: "TÃ´i pháº£i thay lá»‘p xe cÅ©. NÃ³ bá»‹ xáº¹p.", emoji: "ðŸš—" },
        { en: "The road to our village should be widened as soon as possible.", vi: "Con Ä‘Æ°á»ng vÃ o lÃ ng cá»§a chÃºng ta nÃªn Ä‘Æ°á»£c má»Ÿ rá»™ng cÃ ng sá»›m cÃ ng tá»‘t.", emoji: "ðŸ›£ï¸" }
    ];

    function createTopics(sentences, chunkSize) {
        const shuffled = [...sentences].sort(() => Math.random() - 0.5);
        const topics = {};
        let topicIndex = 1;
        for (let i = 0; i < shuffled.length; i += chunkSize) {
            const chunk = shuffled.slice(i, i + chunkSize);
            topics[`Chá»§ Ä‘á» ${topicIndex}`] = chunk;
            topicIndex++;
        }
        return topics;
    }

    const topics = createTopics(allSentences, 50);

    function useSpeechSynthesis() {
        const [isSpeaking, setIsSpeaking] = useState(false);
        const synth = typeof window !== 'undefined' ? window.speechSynthesis : null;

        const speak = useCallback((text, options = {}) => {
            if (!synth) return;

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-US';
            utterance.rate = options.rate || 0.9;
            utterance.onstart = () => setIsSpeaking(true);
            utterance.onend = () => {
                setIsSpeaking(false);
                if (options.onEnd) options.onEnd();
            };
            utterance.onerror = () => {
                setIsSpeaking(false);
            };

            if (synth.speaking) {
                synth.cancel();
            }
            setTimeout(() => synth.speak(utterance), 100);
        }, [synth]);

        const cancel = useCallback(() => {
            if (synth) {
                synth.cancel();
                setIsSpeaking(false);
            }
        }, [synth]);

        useEffect(() => {
            return () => cancel();
        }, [cancel]);

        return { isSpeaking, speak, cancel };
    }

    function Fireworks() {
        const canvasRef = useRef(null);
        const animationFrameId = useRef(null);

        useEffect(() => {
            const canvas = canvasRef.current;
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            if (!ctx) return;

            let width = canvas.width = window.innerWidth;
            let height = canvas.height = window.innerHeight;
            let fireworks = [];
            let particles = [];
            let hue = 120;

            function random(min, max) { return Math.random() * (max - min) + min; }

            class Firework {
                constructor(sx, sy, tx, ty) {
                    this.x = sx; this.y = sy; this.sx = sx; this.sy = sy;
                    this.tx = tx; this.ty = ty;
                    this.distanceToTarget = Math.sqrt(Math.pow(tx - sx, 2) + Math.pow(ty - sy, 2));
                    this.distanceTraveled = 0;
                    this.coordinates = [];
                    this.coordinateCount = 3;
                    while (this.coordinateCount--) {
                        this.coordinates.push([this.x, this.y]);
                    }
                    this.angle = Math.atan2(ty - sy, tx - sx);
                    this.speed = 2;
                    this.acceleration = 1.05;
                    this.brightness = random(50, 70);
                }
                update(index) {
                    this.coordinates.pop();
                    this.coordinates.unshift([this.x, this.y]);
                    this.speed *= this.acceleration;
                    const vx = Math.cos(this.angle) * this.speed;
                    const vy = Math.sin(this.angle) * this.speed;
                    this.distanceTraveled = Math.sqrt(Math.pow(this.x + vx - this.sx, 2) + Math.pow(this.y + vy - this.sy, 2));
                    if (this.distanceTraveled >= this.distanceToTarget) {
                        fireworks.splice(index, 1);
                        for (let i = 0; i < 30; i++) {
                            particles.push(new Particle(this.tx, this.ty));
                        }
                    } else {
                        this.x += vx;
                        this.y += vy;
                    }
                }
                draw() {
                    ctx.beginPath();
                    ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]);
                    ctx.lineTo(this.x, this.y);
                    ctx.strokeStyle = `hsl(${hue}, 100%, ${this.brightness}%)`;
                    ctx.stroke();
                }
            }

            class Particle {
                constructor(x, y) {
                    this.x = x; this.y = y;
                    this.coordinates = [];
                    this.coordinateCount = 5;
                    while (this.coordinateCount--) {
                        this.coordinates.push([this.x, this.y]);
                    }
                    this.angle = random(0, Math.PI * 2);
                    this.speed = random(1, 10);
                    this.friction = 0.95;
                    this.gravity = 1;
                    this.hue = random(hue - 20, hue + 20);
                    this.brightness = random(50, 80);
                    this.alpha = 1;
                    this.decay = random(0.015, 0.03);
                }
                update(index) {
                    this.coordinates.pop();
                    this.coordinates.unshift([this.x, this.y]);
                    this.speed *= this.friction;
                    this.x += Math.cos(this.angle) * this.speed;
                    this.y += Math.sin(this.angle) * this.speed + this.gravity;
                    this.alpha -= this.decay;
                    if (this.alpha <= this.decay) {
                        particles.splice(index, 1);
                    }
                }
                draw() {
                    ctx.beginPath();
                    ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]);
                    ctx.lineTo(this.x, this.y);
                    ctx.strokeStyle = `hsla(${this.hue}, 100%, ${this.brightness}%, ${this.alpha})`;
                    ctx.stroke();
                }
            }

            function loop() {
                animationFrameId.current = requestAnimationFrame(loop);
                hue += 0.5;
                ctx.globalCompositeOperation = 'destination-out';
                ctx.fillStyle = 'rgba(0, 0, 0, 0.5)';
                ctx.fillRect(0, 0, width, height);
                ctx.globalCompositeOperation = 'lighter';
                if (Math.random() < 0.05) {
                    fireworks.push(new Firework(width / 2, height, random(0, width), random(0, height / 2)));
                }
                fireworks.forEach((f, i) => { f.update(i); f.draw(); });
                particles.forEach((p, i) => { p.update(i); p.draw(); });
            }

            const handleResize = () => {
                width = canvas.width = window.innerWidth;
                height = canvas.height = window.innerHeight;
            };

            window.addEventListener('resize', handleResize);
            loop();

            return () => {
                if (animationFrameId.current) {
                    cancelAnimationFrame(animationFrameId.current);
                }
                window.removeEventListener('resize', handleResize);
            };
        }, []);

        return <canvas ref={canvasRef} className="fixed top-0 left-0 w-full h-full pointer-events-none z-50"></canvas>;
    }

    function StartScreen({ onStart }) {
        const [playerName, setPlayerName] = useState('');
        const [error, setError] = useState('');

        const handleStart = () => {
            if (playerName.trim()) {
                onStart(playerName.trim());
            } else {
                setError('Vui lÃ²ng nháº­p tÃªn cá»§a báº¡n!');
                setTimeout(() => setError(''), 3000);
            }
        };

        return (
            <div className="w-full flex flex-col items-center gap-4">
                <input
                    type="text"
                    className="w-full max-w-sm p-3 text-center text-lg rounded-xl border-2 border-pink-400 focus:outline-none focus:ring-4 focus:ring-pink-300 transition"
                    placeholder="Nháº­p tÃªn cá»§a báº¡n..."
                    value={playerName}
                    onChange={(e) => setPlayerName(e.target.value)}
                    onKeyDown={(e) => e.key === 'Enter' && handleStart()}
                />
                <button
                    className="w-full max-w-sm bg-green-500 text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-green-600 transform hover:-translate-y-1 transition-all duration-300"
                    onClick={handleStart}
                >
                    Báº¯t Ä‘áº§u
                </button>
                {error && <div className="text-red-500 font-semibold mt-2">{error}</div>}
            </div>
        );
    }

    function TopicSelectionScreen({ onSelectTopic }) {
        const topicColors = [
            'bg-red-500 hover:bg-red-600',
            'bg-blue-500 hover:bg-blue-600',
            'bg-green-500 hover:bg-green-600',
            'bg-yellow-500 hover:bg-yellow-600',
            'bg-purple-500 hover:bg-purple-600',
            'bg-gray-500 hover:bg-gray-600',
        ];

        return (
            <div className="w-full flex flex-col items-center">
                <h2 className="text-xl md:text-2xl font-semibold text-gray-700 mb-5">Chá»n má»™t chá»§ Ä‘á» Ä‘á»ƒ báº¯t Ä‘áº§u</h2>
                <div className="w-full max-w-md flex flex-col items-center gap-4">
                    {Object.keys(topics).map((topic, index) => (
                        <button
                            key={topic}
                            className={`w-full text-white font-bold py-4 px-6 text-lg rounded-xl shadow-lg transform hover:-translate-y-1 transition-all duration-300 ${topicColors[index % topicColors.length]}`}
                            onClick={() => onSelectTopic(topic)}
                        >
                            {`${topic} (${topics[topic].length} cÃ¢u)`}
                        </button>
                    ))}
                </div>
            </div>
        );
    }

    function ReviewErrorsScreen({ errors, onSelectTopic }) {
        const renderDiff = (correct, user) => {
            const diff = [];
            const maxLength = Math.max(correct.length, user.length);
            for (let i = 0; i < maxLength; i++) {
                if (correct[i] !== user[i]) {
                    diff.push(<span key={i} className="text-red-600 font-bold underline bg-red-100">{user[i] || ''}</span>);
                } else {
                    diff.push(<span key={i}>{user[i]}</span>);
                }
            }
            return diff;
        };

        return (
            <div className="w-full flex flex-col items-center">
                <h2 className="text-xl md:text-2xl font-semibold text-gray-700 mb-5">Xem láº¡i cÃ¡c cÃ¢u tráº£ lá»i sai</h2>
                <ul className="w-full list-none p-0 max-h-96 overflow-y-auto border border-gray-200 rounded-lg bg-gray-50">
                    {errors.map((error, index) => (
                        <li key={index} className="p-4 border-b border-gray-200 text-left">
                            <div className="font-bold text-sm text-gray-600">ÄÃ¡p Ã¡n Ä‘Ãºng:</div>
                            <p className="text-green-600 break-words">{error.correctAnswer}</p>
                            <div className="font-bold text-sm text-gray-600 mt-2">CÃ¢u tráº£ lá»i cá»§a báº¡n:</div>
                            <p className="text-red-500 break-words">{renderDiff(error.correctAnswer, error.userAnswer)}</p>
                        </li>
                    ))}
                </ul>
                <button
                    className="mt-6 bg-pink-500 text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-pink-600 transform hover:-translate-y-1 transition-all duration-300"
                    onClick={onSelectTopic}
                >
                    Chá»n chá»§ Ä‘á» khÃ¡c
                </button>
            </div>
        );
    }

    function CongratsScreen({ score, total, correctCount, playerName, topic, errors, onPlayAgain, onSelectTopic, onReviewErrors }) {
        return (
            <div className="w-full flex flex-col items-center gap-4">
                <Fireworks />
                <div className="text-green-600 font-bold text-2xl leading-tight">
                    ChÃºc má»«ng, <strong>{playerName}</strong>!
                </div>
                <div className="text-lg text-gray-700 text-center">
                    Báº¡n Ä‘Ã£ Ä‘áº¡t {score} Ä‘iá»ƒm, vá»›i {correctCount}/{total} cÃ¢u tráº£ lá»i Ä‘Ãºng trong "{topic}".
                </div>
                {errors.length > 0 && (
                    <button
                        className="w-full max-w-sm bg-yellow-500 text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-yellow-600 transform hover:-translate-y-1 transition-all duration-300"
                        onClick={onReviewErrors}
                    >
                        Xem láº¡i {errors.length} lá»—i sai
                    </button>
                )}
                <button
                    className="w-full max-w-sm bg-green-500 text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-green-600 transform hover:-translate-y-1 transition-all duration-300"
                    onClick={onPlayAgain}
                >
                    ChÆ¡i láº¡i chá»§ Ä‘á» nÃ y
                </button>
                <button
                    className="w-full max-w-sm bg-pink-600 text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-pink-700 transform hover:-translate-y-1 transition-all duration-300"
                    onClick={onSelectTopic}
                >
                    Chá»n chá»§ Ä‘á» khÃ¡c
                </button>
            </div>
        );
    }

    function GameScreen({ sentences, onGameEnd, onBackToTopics, topicName }) {
        const [currentIndex, setCurrentIndex] = useState(0);
        const [score, setScore] = useState(0);
        const [completed, setCompleted] = useState(0);
        const [correctCount, setCorrectCount] = useState(0);
        const [mistakeCount, setMistakeCount] = useState(0);
        const [userAnswer, setUserAnswer] = useState('');
        const [message, setMessage] = useState('');
        const [messageColor, setMessageColor] = useState('text-red-500');
        const [isCorrect, setIsCorrect] = useState(null);
        const [isLocked, setIsLocked] = useState(false);
        const [errors, setErrors] = useState([]);
        const [isShaking, setIsShaking] = useState(false);
        const [isHintVisible, setIsHintVisible] = useState(false);

        const { isSpeaking, speak, cancel } = useSpeechSynthesis();
        const inputRef = useRef(null);
        const nextSentenceTimeoutRef = useRef(null);
        
        const normalizeAnswer = (str) => {
          return str.trim().replace(/[\u2018\u2019\u201A\u201B\u2032\u2035`â€œâ€]/g, "'").replace(/[â€œâ€]/g, '"');
        };

        const currentSentence = sentences[currentIndex];

        const startNewSentence = useCallback((index) => {
            cancel();
            if (nextSentenceTimeoutRef.current) clearTimeout(nextSentenceTimeoutRef.current);

            if (index >= sentences.length) {
                onGameEnd({ score, completed, correctCount, errors });
                return;
            }
            
            setCurrentIndex(index);
            setUserAnswer('');
            setMistakeCount(0);
            setMessage('');
            setIsCorrect(null);
            setIsLocked(false);
            inputRef.current?.focus();
            
            const sentenceToSpeak = sentences[index].en;
            speak(sentenceToSpeak);
        }, [sentences, onGameEnd, score, completed, correctCount, errors, cancel, speak]);
        
        useEffect(() => {
            startNewSentence(0);
            return () => {
                cancel();
                if (nextSentenceTimeoutRef.current) clearTimeout(nextSentenceTimeoutRef.current);
            };
        }, [sentences]);

        const handleCheckAnswer = () => {
            if (isLocked) return;
            
            const correctAnswer = currentSentence.en;

            if (normalizeAnswer(userAnswer) === normalizeAnswer(correctAnswer)) {
                setIsCorrect(true);
                setIsLocked(true);
                setMessage('ChÃ­nh xÃ¡c! +10 Ä‘iá»ƒm.');
                setMessageColor('text-green-600');
                setScore(prev => prev + 10);
                setCorrectCount(prev => prev + 1);
                setCompleted(prev => prev + 1);
                cancel();
                speak(correctAnswer, { onEnd: () => {
                    nextSentenceTimeoutRef.current = setTimeout(() => startNewSentence(currentIndex + 1), 2000);
                }});
            } else {
                const newMistakeCount = mistakeCount + 1;
                setMistakeCount(newMistakeCount);
                setIsCorrect(false);
                setIsShaking(true);
                setTimeout(() => setIsShaking(false), 500);
                
                if (newMistakeCount >= 3) {
                    setIsLocked(true);
                    setMessage(`Báº¡n Ä‘Ã£ sai 3 láº§n. ÄÃ¡p Ã¡n lÃ : "${correctAnswer}"`);
                    setErrors(prev => [...prev, { correctAnswer, userAnswer: userAnswer.trim() }]);
                    setCompleted(prev => prev + 1);
                    cancel();
                    nextSentenceTimeoutRef.current = setTimeout(() => startNewSentence(currentIndex + 1), 3500);
                } else {
                    setMessage(`Sai rá»“i! (Sá»‘ láº§n sai: ${newMistakeCount}/3)`);
                    setTimeout(() => setIsCorrect(null), 500);
                }
            }
        };
        
        const handleListenAgain = () => {
            if (!isSpeaking) {
                speak(currentSentence.en);
            }
        };
        
        const showHint = () => setIsHintVisible(true);
        const hideHint = () => setIsHintVisible(false);

        if (!currentSentence) return <div className="text-lg">Äang táº£i...</div>;

        const inputClasses = `w-full p-4 text-center text-lg md:text-2xl rounded-xl border-4 transition-all duration-300 focus:outline-none focus:ring-4 ${
            isCorrect === true ? 'border-green-500 bg-green-50 focus:ring-green-500/30' :
            isCorrect === false ? 'border-red-500 bg-red-50 focus:ring-red-500/30' :
            'border-pink-500 focus:ring-pink-500/30'
        } ${isShaking ? 'animate-shake' : ''}`;

        return (
            <div className="w-full flex flex-col items-center">
                <h2 className="text-xl md:text-2xl font-semibold text-gray-700 mb-2">Chá»§ Ä‘á»: {topicName}</h2>
                <div className="flex items-center justify-center gap-3 text-lg md:text-2xl italic text-pink-700 my-4 flex-wrap">
                    <span>&ldquo;{currentSentence.vi}&rdquo;</span>
                    <span className="text-3xl">{currentSentence.emoji}</span>
                </div>
                <div className="relative w-full my-6">
                    <input
                        ref={inputRef}
                        type="text"
                        placeholder="Nháº­p cÃ¢u báº¡n nghe Ä‘Æ°á»£c..."
                        autoComplete="off"
                        autoCorrect="off"
                        autoCapitalize="off"
                        spellCheck="false"
                        value={userAnswer}
                        onChange={(e) => setUserAnswer(e.target.value)}
                        onKeyDown={(e) => e.key === 'Enter' && handleCheckAnswer()}
                        disabled={isLocked}
                        className={inputClasses}
                    />
                    {isHintVisible && (
                        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-black/80 text-white p-4 rounded-lg text-lg font-semibold pointer-events-none z-10 w-max max-w-[90%]">
                            {currentSentence.en}
                        </div>
                    )}
                </div>
                <div className={`font-bold text-lg min-h-[28px] ${messageColor}`}>{message}</div>
                <div className="flex flex-wrap justify-center gap-4 mt-4">
                    <button className="btn-primary bg-pink-500 hover:bg-pink-600" onClick={handleListenAgain} disabled={isSpeaking || isLocked}>Nghe láº¡i</button>
                    <button className="btn-primary bg-green-500 hover:bg-green-600" onClick={handleCheckAnswer} disabled={isLocked}>Kiá»ƒm tra</button>
                    <button 
                        className="btn-primary bg-yellow-500 hover:bg-yellow-600 text-gray-800"
                        disabled={isLocked}
                        onMouseDown={showHint}
                        onMouseUp={hideHint}
                        onMouseLeave={hideHint}
                        onTouchStart={(e) => { e.preventDefault(); showHint(); }}
                        onTouchEnd={hideHint}
                    >
                        Gá»£i Ã½
                    </button>
                    <button className="btn-primary bg-gray-500 hover:bg-gray-600" onClick={onBackToTopics}>Chá»§ Ä‘á» khÃ¡c</button>
                </div>
                <div className="mt-5 text-lg font-semibold text-pink-800">Äiá»ƒm: {score} | HoÃ n thÃ nh: {completed}/{sentences.length}</div>
            </div>
        );
    }

    function App() {
        const [gameState, setGameState] = useState(GameState.START);
        const [playerName, setPlayerName] = useState('');
        const [currentTopic, setCurrentTopic] = useState(null);
        const [gameResult, setGameResult] = useState({ score: 0, total: 0, correctCount: 0, errors: [] });
        
        const { cancel: cancelSpeech } = useSpeechSynthesis();

        const handleStart = (name) => {
            setPlayerName(name);
            setGameState(GameState.TOPIC_SELECTION);
        };

        const handleSelectTopic = (topic) => {
            setCurrentTopic(topic);
            setGameState(GameState.GAME);
        };
        
        const handleBackToTopics = () => {
            cancelSpeech();
            setGameState(GameState.TOPIC_SELECTION);
        };

        const handleGameEnd = (result) => {
            if (currentTopic) {
                setGameResult({
                    score: result.score, 
                    total: topics[currentTopic].length,
                    correctCount: result.correctCount,
                    errors: result.errors
                });
                setGameState(GameState.CONGRATS);
            }
        };
        
        const handlePlayAgain = () => {
            setGameState(GameState.GAME);
        };
        
        const handleReviewErrors = () => {
            setGameState(GameState.REVIEW_ERRORS);
        };

        const renderScreen = () => {
            switch (gameState) {
                case GameState.START:
                    return <StartScreen onStart={handleStart} />;
                case GameState.TOPIC_SELECTION:
                    return <TopicSelectionScreen onSelectTopic={handleSelectTopic} />;
                case GameState.GAME:
                    if (currentTopic) {
                        return <GameScreen 
                                    sentences={topics[currentTopic]}
                                    topicName={currentTopic} 
                                    onGameEnd={handleGameEnd} 
                                    onBackToTopics={handleBackToTopics} 
                                />;
                    }
                    return null;
                case GameState.CONGRATS:
                    if (currentTopic) {
                        return <CongratsScreen 
                                    {...gameResult} 
                                    playerName={playerName} 
                                    topic={currentTopic}
                                    onPlayAgain={handlePlayAgain}
                                    onSelectTopic={handleBackToTopics}
                                    onReviewErrors={handleReviewErrors}
                                />;
                    }
                    return null;
                case GameState.REVIEW_ERRORS:
                    return <ReviewErrorsScreen 
                                errors={gameResult.errors} 
                                onSelectTopic={handleBackToTopics}
                           />
                default:
                    return <StartScreen onStart={handleStart} />;
            }
        };

        return (
            <main className="bg-gradient-to-br from-pink-100 to-purple-200 min-h-screen w-full flex items-center justify-center p-4">
                <div className="bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-6 md:p-8 text-center max-w-4xl w-full">
                    <h1 className="text-3xl sm:text-4xl md:text-5xl font-bold text-pink-500 mb-1 tracking-wide">Nghe vÃ  Viáº¿t ChÃ­nh Táº£</h1>
                    {renderScreen()}
                </div>
            </main>
        );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
</script>
</body>
</html>
